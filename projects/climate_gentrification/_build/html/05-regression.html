
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PART 5: Regression &#8212; CCI&amp;GG</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="PART 4: Gentrified Identification" href="04-gentrified.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">CCI&GG</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Climate Investment &amp; Green Gentrification
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="01-data-processing.html">
   PART 1: Data Cleaning and Processing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02-investment-distribution.html">
   PART 2: Investment Amount Distribution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03-visualization-analysis.html">
   PART 3: Investment Index and Visualization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04-gentrified.html">
   PART 4: Gentrified Identification
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   PART 5: Regression
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/05-regression.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://yohaoyu.github.io/projects/climate_gentrification"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://yohaoyu.github.io/projects/climate_gentrification/issues/new?title=Issue%20on%20page%20%2F05-regression.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#preparation">
   Preparation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#occupied-data">
   occupied data
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>PART 5: Regression</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#preparation">
   Preparation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#occupied-data">
   occupied data
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="part-5-regression">
<h1>PART 5: Regression<a class="headerlink" href="#part-5-regression" title="Permalink to this headline">¶</a></h1>
<p>Haoyu Yue, Department of Urban Design and Planning, University of Washington</p>
<div class="section" id="preparation">
<h2>Preparation<a class="headerlink" href="#preparation" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">geopandas</span> <span class="k">as</span> <span class="nn">gpd</span>
<span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">Point</span><span class="p">,</span> <span class="n">Polygon</span>
<span class="kn">import</span> <span class="nn">contextily</span> <span class="k">as</span> <span class="nn">ctx</span>
<span class="kn">from</span> <span class="nn">matplotlib_scalebar.scalebar</span> <span class="kn">import</span> <span class="n">ScaleBar</span>
<span class="kn">from</span> <span class="nn">matplotlib.patches</span> <span class="kn">import</span> <span class="n">Patch</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/haoyu/opt/anaconda3/lib/python3.9/site-packages/statsmodels/tsa/base/tsa_model.py:7: FutureWarning: pandas.Int64Index is deprecated and will be removed from pandas in a future version. Use pandas.Index with the appropriate dtype instead.
  from pandas import (to_datetime, Int64Index, DatetimeIndex, Period,
/Users/haoyu/opt/anaconda3/lib/python3.9/site-packages/statsmodels/tsa/base/tsa_model.py:7: FutureWarning: pandas.Float64Index is deprecated and will be removed from pandas in a future version. Use pandas.Index with the appropriate dtype instead.
  from pandas import (to_datetime, Int64Index, DatetimeIndex, Period,
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sf_demo_gen_pattern</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s1">&#39;data/regression/sf_demo_gen_pattern.geojson&#39;</span><span class="p">)</span>
<span class="n">sf_invest</span> <span class="o">=</span> <span class="n">gpd</span><span class="o">.</span><span class="n">read_file</span><span class="p">(</span><span class="s1">&#39;data/regression/sf_invest.geojson&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">invest_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;research and planning&#39;</span><span class="p">,</span> <span class="s1">&#39;fire prevention&#39;</span><span class="p">,</span> <span class="s1">&#39;climate action&#39;</span><span class="p">,</span>
       <span class="s1">&#39;public transportation&#39;</span><span class="p">,</span> <span class="s1">&#39;housing&#39;</span><span class="p">,</span> <span class="s1">&#39;green space&#39;</span><span class="p">,</span> <span class="s1">&#39;others&#39;</span><span class="p">,</span> <span class="s1">&#39;vehicle&#39;</span><span class="p">,</span>
       <span class="s1">&#39;building&#39;</span><span class="p">,</span> <span class="s1">&#39;utilities&#39;</span><span class="p">,</span> <span class="s1">&#39;agriculture&#39;</span><span class="p">,</span> <span class="s1">&#39;clean air&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logistic_data</span> <span class="o">=</span> <span class="n">sf_invest</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;GEOID&#39;</span><span class="p">)[</span><span class="n">invest_types</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">popu_area</span> <span class="o">=</span> <span class="n">sf_demo_gen_pattern</span><span class="o">.</span><span class="n">popu_2020</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">*</span> <span class="n">sf_demo_gen_pattern</span><span class="o">.</span><span class="n">area</span> <span class="o">/</span> <span class="mi">1000000</span>
<span class="n">popu_area</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">invest_types</span><span class="p">:</span>
    <span class="n">logistic_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">logistic_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">popu_area</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#((logistic_data.loc[:,i]+1).apply(np.log)/popu_area)  </span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logistic_data</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[[</span><span class="s1">&#39;GEOID&#39;</span><span class="p">,</span><span class="s1">&#39;gentrified&#39;</span><span class="p">]],</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;GEOID&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="s1">&#39;Gentrified&#39;</span><span class="p">,</span><span class="s1">&#39;Non-Gentrified&#39;</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logistic_data</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;GEOID&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logistic_data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>research and planning</th>
      <th>fire prevention</th>
      <th>climate action</th>
      <th>public transportation</th>
      <th>housing</th>
      <th>green space</th>
      <th>others</th>
      <th>vehicle</th>
      <th>building</th>
      <th>utilities</th>
      <th>agriculture</th>
      <th>clean air</th>
      <th>gentrified</th>
    </tr>
    <tr>
      <th>GEOID</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>060014001001</th>
      <td>0.0</td>
      <td>10.162304</td>
      <td>9.471991</td>
      <td>14.245763</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>13.717784</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>060014002001</th>
      <td>0.0</td>
      <td>0.000000</td>
      <td>4.750078</td>
      <td>9.813422</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>12.091623</td>
      <td>0.0</td>
      <td>7.874392</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>060014002002</th>
      <td>0.0</td>
      <td>0.000000</td>
      <td>6.026793</td>
      <td>11.181073</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>13.307718</td>
      <td>0.0</td>
      <td>10.960395</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>060014003001</th>
      <td>0.0</td>
      <td>0.000000</td>
      <td>4.880356</td>
      <td>10.004151</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>12.302858</td>
      <td>0.0</td>
      <td>8.288054</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>060014003002</th>
      <td>0.0</td>
      <td>0.000000</td>
      <td>5.768792</td>
      <td>11.121144</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>13.109378</td>
      <td>0.0</td>
      <td>10.776926</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>060952521021</th>
      <td>0.0</td>
      <td>0.000000</td>
      <td>4.581980</td>
      <td>8.317108</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>6.835333</td>
      <td>13.472421</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>060971507023</th>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>9.902931</td>
      <td>0.0</td>
      <td>7.115122</td>
      <td>1.402460</td>
      <td>11.855891</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>060971508004</th>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>13.047788</td>
      <td>0.0</td>
      <td>10.259979</td>
      <td>4.085448</td>
      <td>14.927394</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>060971511001</th>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>10.072836</td>
      <td>0.608868</td>
      <td>14.813605</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>060971543024</th>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>11.545565</td>
      <td>0.0</td>
      <td>8.757756</td>
      <td>0.000000</td>
      <td>13.416051</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>2920 rows × 13 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logistic_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fire prevention&#39;</span><span class="p">,</span> <span class="s1">&#39;climate action&#39;</span><span class="p">,</span>
       <span class="s1">&#39;public transportation&#39;</span><span class="p">,</span> <span class="s1">&#39;housing&#39;</span><span class="p">,</span> <span class="s1">&#39;green space&#39;</span><span class="p">,</span> <span class="s1">&#39;vehicle&#39;</span><span class="p">,</span>
       <span class="s1">&#39;building&#39;</span><span class="p">,</span> <span class="s1">&#39;utilities&#39;</span><span class="p">,</span>  <span class="s1">&#39;gentrified&#39;</span><span class="p">]</span>
<span class="n">logistic_data</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="p">[</span><span class="n">logistic_list</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;white_rate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;white_20&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;popu_2020&#39;</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;white_15&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;popu_2015&#39;</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span>
<span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;edu_rate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;edu_2020&#39;</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;edu_2015&#39;</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span>
<span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;popu_rate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;popu_2020&#39;</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;popu_2015&#39;</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span>
<span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;income_rate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;Median HH Income (in 2020 dollars)&#39;</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;Median HH Income (in 2015 dollars)&#39;</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span>
<span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;rent_rate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;Median Gross Rent 2020&#39;</span><span class="p">])</span><span class="o">/</span><span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;Median Gross Rent 2015&#39;</span><span class="p">])</span><span class="o">-</span><span class="mi">1</span>
<span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;white_rate_15&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;white_15&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;popu_2015&#39;</span><span class="p">]</span>
<span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;density&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;popu_2015&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="s1">&#39;area&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ols_data</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[[</span><span class="s1">&#39;white_rate&#39;</span><span class="p">,</span><span class="s1">&#39;edu_rate&#39;</span><span class="p">,</span><span class="s1">&#39;popu_rate&#39;</span><span class="p">,</span><span class="s1">&#39;income_rate&#39;</span><span class="p">,</span><span class="s1">&#39;rent_rate&#39;</span><span class="p">,</span><span class="s1">&#39;GEOID&#39;</span><span class="p">]],</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;GEOID&#39;</span><span class="p">,</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">logistic_data</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">sf_demo_gen_pattern</span><span class="p">[[</span><span class="s1">&#39;white_rate_15&#39;</span><span class="p">,</span><span class="s1">&#39;density&#39;</span><span class="p">,</span><span class="s1">&#39;edu_2015&#39;</span><span class="p">,</span><span class="s1">&#39;Median Gross Rent 2015&#39;</span><span class="p">,</span><span class="s1">&#39;GEOID&#39;</span><span class="p">]],</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;GEOID&#39;</span><span class="p">,</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logistic_data</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">logistic_data</span><span class="p">[</span><span class="s1">&#39;Median Gross Rent 2015&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="p">[</span><span class="s1">&#39;Median Gross Rent 2015&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="occupied-data">
<h2>occupied data<a class="headerlink" href="#occupied-data" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">occupied</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/ACS_5Y/occupy/occupy.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">occupied</span><span class="p">[</span><span class="s1">&#39;geoid&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">occupied</span><span class="p">[</span><span class="s1">&#39;GEOID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">12</span><span class="p">,)</span>
<span class="n">occupied</span><span class="p">[</span><span class="s1">&#39;ownership_rate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">occupied</span><span class="p">[</span><span class="s1">&#39;Owner occupied&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">occupied</span><span class="p">[</span><span class="s1">&#39;Total&#39;</span><span class="p">]</span>
<span class="n">occupied</span> <span class="o">=</span> <span class="n">occupied</span><span class="p">[[</span><span class="s1">&#39;geoid&#39;</span><span class="p">,</span><span class="s1">&#39;ownership_rate&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logistic_data</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">occupied</span><span class="p">,</span><span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;GEOID&#39;</span><span class="p">,</span><span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;geoid&#39;</span><span class="p">,</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">ols_data</span> <span class="o">=</span> <span class="n">ols_data</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">occupied</span><span class="p">,</span><span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;GEOID&#39;</span><span class="p">,</span><span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;geoid&#39;</span><span class="p">,</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">potential_area</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;potential_area.csv&#39;</span><span class="p">)</span>
<span class="n">potential_area_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">potential_area</span><span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logistic_data</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="p">[</span><span class="n">logistic_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">potential_area_list</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ols_data</span><span class="p">[</span><span class="s1">&#39;gen_index&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span>
    <span class="n">ols_data</span><span class="o">.</span><span class="n">edu_rate</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">ols_data</span><span class="o">.</span><span class="n">edu_rate</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">ols_data</span><span class="o">.</span><span class="n">edu_rate</span><span class="o">.</span><span class="n">std</span><span class="p">())</span> <span class="o">+</span> <span class="p">(</span>
        <span class="n">ols_data</span><span class="o">.</span><span class="n">income_rate</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">ols_data</span><span class="o">.</span><span class="n">income_rate</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">ols_data</span><span class="o">.</span><span class="n">income_rate</span><span class="o">.</span><span class="n">std</span><span class="p">())</span> <span class="o">+</span> <span class="p">(</span>
        <span class="n">ols_data</span><span class="o">.</span><span class="n">rent_rate</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span> <span class="o">-</span> <span class="n">ols_data</span><span class="o">.</span><span class="n">rent_rate</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">ols_data</span><span class="o">.</span><span class="n">rent_rate</span><span class="o">.</span><span class="n">std</span><span class="p">()))</span><span class="o">/</span><span class="mi">3</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ols_data</span> <span class="o">=</span> <span class="n">ols_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logistic_data</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="p">[[</span><span class="s1">&#39;fire prevention&#39;</span><span class="p">,</span> <span class="s1">&#39;climate action&#39;</span><span class="p">,</span> <span class="s1">&#39;public transportation&#39;</span><span class="p">,</span> <span class="s1">&#39;housing&#39;</span><span class="p">,</span>
       <span class="s1">&#39;green space&#39;</span><span class="p">,</span> <span class="s1">&#39;vehicle&#39;</span><span class="p">,</span> <span class="s1">&#39;building&#39;</span><span class="p">,</span> <span class="s1">&#39;utilities&#39;</span><span class="p">,</span> <span class="s1">&#39;gentrified&#39;</span><span class="p">,</span>
       <span class="s1">&#39;white_rate_15&#39;</span><span class="p">,</span><span class="s1">&#39;edu_2015&#39;</span><span class="p">,</span> <span class="s1">&#39;Median Gross Rent 2015&#39;</span><span class="p">,</span><span class="s1">&#39;density&#39;</span><span class="p">,</span>
       <span class="s1">&#39;GEOID&#39;</span><span class="p">,</span> <span class="s1">&#39;ownership_rate&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logistic_data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fire prevention</th>
      <th>climate action</th>
      <th>public transportation</th>
      <th>housing</th>
      <th>green space</th>
      <th>vehicle</th>
      <th>building</th>
      <th>utilities</th>
      <th>gentrified</th>
      <th>white_rate_15</th>
      <th>edu_2015</th>
      <th>Median Gross Rent 2015</th>
      <th>density</th>
      <th>GEOID</th>
      <th>ownership_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10.162304</td>
      <td>9.471991</td>
      <td>14.245763</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.717784</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.763889</td>
      <td>17.204545</td>
      <td>8.064486</td>
      <td>0.000266</td>
      <td>060014001001</td>
      <td>0.855365</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.000000</td>
      <td>6.026793</td>
      <td>11.181073</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.307718</td>
      <td>0.000000</td>
      <td>10.960395</td>
      <td>0</td>
      <td>0.842278</td>
      <td>16.822768</td>
      <td>7.514756</td>
      <td>0.001904</td>
      <td>060014002002</td>
      <td>0.577428</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.000000</td>
      <td>4.880356</td>
      <td>10.004151</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>12.302858</td>
      <td>0.000000</td>
      <td>8.288054</td>
      <td>0</td>
      <td>0.675389</td>
      <td>17.178357</td>
      <td>7.279622</td>
      <td>0.003313</td>
      <td>060014003001</td>
      <td>0.609856</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.000000</td>
      <td>5.873636</td>
      <td>11.091920</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.208295</td>
      <td>0.000000</td>
      <td>10.859604</td>
      <td>0</td>
      <td>0.765212</td>
      <td>16.162646</td>
      <td>6.871548</td>
      <td>0.003896</td>
      <td>060014003004</td>
      <td>0.603723</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0.000000</td>
      <td>3.779656</td>
      <td>9.079782</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>11.816639</td>
      <td>0.000000</td>
      <td>8.588065</td>
      <td>0</td>
      <td>0.607242</td>
      <td>15.592295</td>
      <td>7.390181</td>
      <td>0.003292</td>
      <td>060014005002</td>
      <td>0.256140</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2537</th>
      <td>0.000000</td>
      <td>6.972229</td>
      <td>13.928216</td>
      <td>0.0</td>
      <td>12.069987</td>
      <td>16.728282</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.355375</td>
      <td>14.817333</td>
      <td>7.679362</td>
      <td>0.002542</td>
      <td>060816140001</td>
      <td>0.583241</td>
    </tr>
    <tr>
      <th>2541</th>
      <td>0.000000</td>
      <td>-2.432063</td>
      <td>12.908133</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>14.914493</td>
      <td>12.969339</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.241149</td>
      <td>13.052471</td>
      <td>7.728557</td>
      <td>0.035171</td>
      <td>060855044222</td>
      <td>0.842000</td>
    </tr>
    <tr>
      <th>2543</th>
      <td>0.000000</td>
      <td>-4.918769</td>
      <td>11.564936</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.552258</td>
      <td>11.626142</td>
      <td>0.000000</td>
      <td>1</td>
      <td>0.193029</td>
      <td>12.497337</td>
      <td>7.389515</td>
      <td>0.105516</td>
      <td>060855045063</td>
      <td>0.478535</td>
    </tr>
    <tr>
      <th>2548</th>
      <td>9.025959</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>9.247855</td>
      <td>13.906150</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.880231</td>
      <td>17.108997</td>
      <td>7.745055</td>
      <td>0.009323</td>
      <td>060871205001</td>
      <td>0.840989</td>
    </tr>
    <tr>
      <th>2550</th>
      <td>0.000000</td>
      <td>0.123416</td>
      <td>3.691879</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.237635</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.617548</td>
      <td>14.987805</td>
      <td>7.629723</td>
      <td>0.026846</td>
      <td>060952508011</td>
      <td>0.833910</td>
    </tr>
  </tbody>
</table>
<p>953 rows × 15 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">logistic_data</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="p">[</span><span class="n">logistic_data</span><span class="o">.</span><span class="n">density</span> <span class="o">&gt;</span> <span class="mf">0.001</span><span class="p">]</span>
<span class="n">logistic_data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fire prevention</th>
      <th>climate action</th>
      <th>public transportation</th>
      <th>housing</th>
      <th>green space</th>
      <th>vehicle</th>
      <th>building</th>
      <th>utilities</th>
      <th>gentrified</th>
      <th>white_rate_15</th>
      <th>edu_2015</th>
      <th>Median Gross Rent 2015</th>
      <th>density</th>
      <th>GEOID</th>
      <th>ownership_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>0.000000</td>
      <td>6.026793</td>
      <td>11.181073</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.307718</td>
      <td>0.000000</td>
      <td>10.960395</td>
      <td>0</td>
      <td>0.842278</td>
      <td>16.822768</td>
      <td>7.514756</td>
      <td>0.001904</td>
      <td>060014002002</td>
      <td>0.577428</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.000000</td>
      <td>4.880356</td>
      <td>10.004151</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>12.302858</td>
      <td>0.000000</td>
      <td>8.288054</td>
      <td>0</td>
      <td>0.675389</td>
      <td>17.178357</td>
      <td>7.279622</td>
      <td>0.003313</td>
      <td>060014003001</td>
      <td>0.609856</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.000000</td>
      <td>5.873636</td>
      <td>11.091920</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.208295</td>
      <td>0.000000</td>
      <td>10.859604</td>
      <td>0</td>
      <td>0.765212</td>
      <td>16.162646</td>
      <td>6.871548</td>
      <td>0.003896</td>
      <td>060014003004</td>
      <td>0.603723</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0.000000</td>
      <td>3.779656</td>
      <td>9.079782</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>11.816639</td>
      <td>0.000000</td>
      <td>8.588065</td>
      <td>0</td>
      <td>0.607242</td>
      <td>15.592295</td>
      <td>7.390181</td>
      <td>0.003292</td>
      <td>060014005002</td>
      <td>0.256140</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0.000000</td>
      <td>4.404000</td>
      <td>10.809239</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>12.434161</td>
      <td>0.000000</td>
      <td>9.545845</td>
      <td>1</td>
      <td>0.508097</td>
      <td>15.515625</td>
      <td>6.951160</td>
      <td>0.002343</td>
      <td>060014006002</td>
      <td>0.641148</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2537</th>
      <td>0.000000</td>
      <td>6.972229</td>
      <td>13.928216</td>
      <td>0.0</td>
      <td>12.069987</td>
      <td>16.728282</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.355375</td>
      <td>14.817333</td>
      <td>7.679362</td>
      <td>0.002542</td>
      <td>060816140001</td>
      <td>0.583241</td>
    </tr>
    <tr>
      <th>2541</th>
      <td>0.000000</td>
      <td>-2.432063</td>
      <td>12.908133</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>14.914493</td>
      <td>12.969339</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.241149</td>
      <td>13.052471</td>
      <td>7.728557</td>
      <td>0.035171</td>
      <td>060855044222</td>
      <td>0.842000</td>
    </tr>
    <tr>
      <th>2543</th>
      <td>0.000000</td>
      <td>-4.918769</td>
      <td>11.564936</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.552258</td>
      <td>11.626142</td>
      <td>0.000000</td>
      <td>1</td>
      <td>0.193029</td>
      <td>12.497337</td>
      <td>7.389515</td>
      <td>0.105516</td>
      <td>060855045063</td>
      <td>0.478535</td>
    </tr>
    <tr>
      <th>2548</th>
      <td>9.025959</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>9.247855</td>
      <td>13.906150</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.880231</td>
      <td>17.108997</td>
      <td>7.745055</td>
      <td>0.009323</td>
      <td>060871205001</td>
      <td>0.840989</td>
    </tr>
    <tr>
      <th>2550</th>
      <td>0.000000</td>
      <td>0.123416</td>
      <td>3.691879</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.237635</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.617548</td>
      <td>14.987805</td>
      <td>7.629723</td>
      <td>0.026846</td>
      <td>060952508011</td>
      <td>0.833910</td>
    </tr>
  </tbody>
</table>
<p>810 rows × 15 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ols</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">ols_data</span><span class="p">[[</span><span class="s1">&#39;GEOID&#39;</span><span class="p">,</span><span class="s1">&#39;gen_index&#39;</span><span class="p">]],</span><span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span><span class="n">on</span><span class="o">=</span><span class="s1">&#39;GEOID&#39;</span><span class="p">)</span>
<span class="n">ols</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;fire prevention&#39;, &#39;climate action&#39;, &#39;public transportation&#39;, &#39;housing&#39;,
       &#39;green space&#39;, &#39;vehicle&#39;, &#39;building&#39;, &#39;utilities&#39;, &#39;gentrified&#39;,
       &#39;white_rate_15&#39;, &#39;edu_2015&#39;, &#39;Median Gross Rent 2015&#39;, &#39;density&#39;,
       &#39;GEOID&#39;, &#39;ownership_rate&#39;, &#39;gen_index&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ols</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>fire prevention</th>
      <th>climate action</th>
      <th>public transportation</th>
      <th>housing</th>
      <th>green space</th>
      <th>vehicle</th>
      <th>building</th>
      <th>utilities</th>
      <th>gentrified</th>
      <th>white_rate_15</th>
      <th>edu_2015</th>
      <th>Median Gross Rent 2015</th>
      <th>density</th>
      <th>GEOID</th>
      <th>ownership_rate</th>
      <th>gen_index</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.000000</td>
      <td>6.026793</td>
      <td>11.181073</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.307718</td>
      <td>0.000000</td>
      <td>10.960395</td>
      <td>0</td>
      <td>0.842278</td>
      <td>16.822768</td>
      <td>7.514756</td>
      <td>0.001904</td>
      <td>060014002002</td>
      <td>0.577428</td>
      <td>0.170236</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.000000</td>
      <td>4.880356</td>
      <td>10.004151</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>12.302858</td>
      <td>0.000000</td>
      <td>8.288054</td>
      <td>0</td>
      <td>0.675389</td>
      <td>17.178357</td>
      <td>7.279622</td>
      <td>0.003313</td>
      <td>060014003001</td>
      <td>0.609856</td>
      <td>-0.351731</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.000000</td>
      <td>5.873636</td>
      <td>11.091920</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.208295</td>
      <td>0.000000</td>
      <td>10.859604</td>
      <td>0</td>
      <td>0.765212</td>
      <td>16.162646</td>
      <td>6.871548</td>
      <td>0.003896</td>
      <td>060014003004</td>
      <td>0.603723</td>
      <td>-0.849576</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.000000</td>
      <td>3.779656</td>
      <td>9.079782</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>11.816639</td>
      <td>0.000000</td>
      <td>8.588065</td>
      <td>0</td>
      <td>0.607242</td>
      <td>15.592295</td>
      <td>7.390181</td>
      <td>0.003292</td>
      <td>060014005002</td>
      <td>0.256140</td>
      <td>0.067271</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.000000</td>
      <td>4.404000</td>
      <td>10.809239</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>12.434161</td>
      <td>0.000000</td>
      <td>9.545845</td>
      <td>1</td>
      <td>0.508097</td>
      <td>15.515625</td>
      <td>6.951160</td>
      <td>0.002343</td>
      <td>060014006002</td>
      <td>0.641148</td>
      <td>-1.466282</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>805</th>
      <td>0.000000</td>
      <td>6.972229</td>
      <td>13.928216</td>
      <td>0.0</td>
      <td>12.069987</td>
      <td>16.728282</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.355375</td>
      <td>14.817333</td>
      <td>7.679362</td>
      <td>0.002542</td>
      <td>060816140001</td>
      <td>0.583241</td>
      <td>-0.215738</td>
    </tr>
    <tr>
      <th>806</th>
      <td>0.000000</td>
      <td>-2.432063</td>
      <td>12.908133</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>14.914493</td>
      <td>12.969339</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.241149</td>
      <td>13.052471</td>
      <td>7.728557</td>
      <td>0.035171</td>
      <td>060855044222</td>
      <td>0.842000</td>
      <td>0.004756</td>
    </tr>
    <tr>
      <th>807</th>
      <td>0.000000</td>
      <td>-4.918769</td>
      <td>11.564936</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.552258</td>
      <td>11.626142</td>
      <td>0.000000</td>
      <td>1</td>
      <td>0.193029</td>
      <td>12.497337</td>
      <td>7.389515</td>
      <td>0.105516</td>
      <td>060855045063</td>
      <td>0.478535</td>
      <td>-0.942245</td>
    </tr>
    <tr>
      <th>808</th>
      <td>9.025959</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>9.247855</td>
      <td>13.906150</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.880231</td>
      <td>17.108997</td>
      <td>7.745055</td>
      <td>0.009323</td>
      <td>060871205001</td>
      <td>0.840989</td>
      <td>1.490150</td>
    </tr>
    <tr>
      <th>809</th>
      <td>0.000000</td>
      <td>0.123416</td>
      <td>3.691879</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>13.237635</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0</td>
      <td>0.617548</td>
      <td>14.987805</td>
      <td>7.629723</td>
      <td>0.026846</td>
      <td>060952508011</td>
      <td>0.833910</td>
      <td>1.677407</td>
    </tr>
  </tbody>
</table>
<p>810 rows × 16 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">linear_model</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;gentrified&quot;</span><span class="p">,</span><span class="s1">&#39;GEOID&#39;</span><span class="p">],</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">logistic_data</span><span class="p">[</span><span class="s2">&quot;gentrified&quot;</span><span class="p">]</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">test_size</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/d4/7ds8vgb91y50k8cnmmtxccjr0000gn/T/ipykernel_29229/1623703423.py:5: FutureWarning: In a future version of pandas all arguments of DataFrame.drop except for the argument &#39;labels&#39; will be keyword-only.
  X = logistic_data.drop([&quot;gentrified&quot;,&#39;GEOID&#39;],1)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">random</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="n">clf</span> <span class="o">=</span> <span class="n">linear_model</span><span class="o">.</span><span class="n">LogisticRegressionCV</span><span class="p">(</span><span class="n">cv</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="n">Cs</span><span class="o">=</span><span class="p">[</span><span class="mf">0.001</span><span class="p">,</span><span class="mf">0.005</span><span class="p">,</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="n">LogisticCV</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X_train</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">y_train</span><span class="p">)</span>

<span class="n">y_pred_train</span> <span class="o">=</span> <span class="n">LogisticCV</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Intercept:&#39;</span><span class="p">,</span> <span class="n">LogisticCV</span><span class="o">.</span><span class="n">intercept_</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Coefficients:&#39;</span><span class="p">,</span><span class="n">LogisticCV</span><span class="o">.</span><span class="n">coef_</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Penalty value&#39;</span><span class="p">,</span> <span class="n">LogisticCV</span><span class="o">.</span><span class="n">C_</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Training Accuracy Score&#39;</span><span class="p">,</span><span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span><span class="n">y_pred_train</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Intercept: [-0.28776355]
Coefficients: [[-1.17307989e-02 -9.00708385e-03  4.78273066e-02  2.35501292e-02
  -2.94752460e-03 -4.04345949e-03  3.46750665e-03  1.79701234e-02
  -4.93870138e-03 -9.59556472e-02 -2.36911516e-02  7.24111278e-05
  -9.38035863e-03]]
Penalty value [0.001]
Training Accuracy Score 0.7916666666666666
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X_train_log</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="n">log_reg</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">Logit</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">X_train_log</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">log_reg</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Optimization terminated successfully.
         Current function value: 0.422186
         Iterations 7
                           Logit Regression Results                           
==============================================================================
Dep. Variable:             gentrified   No. Observations:                  810
Model:                          Logit   Df Residuals:                      796
Method:                           MLE   Df Model:                           13
Date:                Sun, 22 May 2022   Pseudo R-squ.:                  0.1676
Time:                        22:47:03   Log-Likelihood:                -341.97
converged:                       True   LL-Null:                       -410.81
Covariance Type:            nonrobust   LLR p-value:                 6.137e-23
==========================================================================================
                             coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------------------
const                     17.3563      2.774      6.256      0.000      11.919      22.794
fire prevention           -0.2116      0.082     -2.583      0.010      -0.372      -0.051
climate action            -0.0812      0.052     -1.551      0.121      -0.184       0.021
public transportation      0.1572      0.057      2.747      0.006       0.045       0.269
housing                    0.0039      0.028      0.139      0.889      -0.051       0.059
green space               -0.0476      0.035     -1.342      0.180      -0.117       0.022
vehicle                   -0.0361      0.087     -0.414      0.679      -0.207       0.135
building                  -0.0559      0.024     -2.304      0.021      -0.103      -0.008
utilities                 -0.0110      0.027     -0.413      0.679      -0.063       0.041
white_rate_15              0.5216      0.558      0.935      0.350      -0.572       1.615
edu_2015                  -0.2328      0.073     -3.210      0.001      -0.375      -0.091
Median Gross Rent 2015    -2.1537      0.402     -5.360      0.000      -2.941      -1.366
density                    7.0539     15.812      0.446      0.656     -23.938      38.046
ownership_rate            -1.1732      0.480     -2.444      0.015      -2.114      -0.232
==========================================================================================
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/haoyu/opt/anaconda3/lib/python3.9/site-packages/statsmodels/tsa/tsatools.py:142: FutureWarning: In a future version of pandas all arguments of concat except for the argument &#39;objs&#39; will be keyword-only.
  x = pd.concat(x[::order], 1)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ols</span> <span class="o">=</span> <span class="n">ols</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">X_ols</span> <span class="o">=</span> <span class="n">ols</span><span class="p">[[</span><span class="s1">&#39;fire prevention&#39;</span><span class="p">,</span> <span class="s1">&#39;climate action&#39;</span><span class="p">,</span> <span class="s1">&#39;public transportation&#39;</span><span class="p">,</span> <span class="s1">&#39;housing&#39;</span><span class="p">,</span>
       <span class="s1">&#39;green space&#39;</span><span class="p">,</span> <span class="s1">&#39;vehicle&#39;</span><span class="p">,</span> <span class="s1">&#39;building&#39;</span><span class="p">,</span> <span class="s1">&#39;utilities&#39;</span><span class="p">,</span> 
       <span class="s1">&#39;white_rate_15&#39;</span><span class="p">,</span> <span class="s1">&#39;edu_2015&#39;</span><span class="p">,</span> <span class="s1">&#39;Median Gross Rent 2015&#39;</span><span class="p">,</span> <span class="s1">&#39;density&#39;</span><span class="p">,</span><span class="s1">&#39;ownership_rate&#39;</span><span class="p">]]</span>
<span class="n">y_ols</span> <span class="o">=</span> <span class="n">ols</span><span class="p">[</span><span class="s2">&quot;gen_index&quot;</span><span class="p">]</span>

<span class="n">X_train_ols</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">X_ols</span><span class="p">)</span>
<span class="n">ols_reg</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">OLS</span><span class="p">(</span><span class="n">y_ols</span><span class="p">,</span> <span class="n">X_train_ols</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ols_reg</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                            OLS Regression Results                            
==============================================================================
Dep. Variable:              gen_index   R-squared:                       0.174
Model:                            OLS   Adj. R-squared:                  0.159
Method:                 Least Squares   F-statistic:                     11.43
Date:                Sun, 22 May 2022   Prob (F-statistic):           1.38e-22
Time:                        22:48:31   Log-Likelihood:                -791.85
No. Observations:                 719   AIC:                             1612.
Df Residuals:                     705   BIC:                             1676.
Df Model:                          13                                         
Covariance Type:            nonrobust                                         
==========================================================================================
                             coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------------------
const                     -6.0785      0.749     -8.113      0.000      -7.550      -4.607
fire prevention           -0.0139      0.019     -0.713      0.476      -0.052       0.024
climate action             0.0012      0.014      0.086      0.931      -0.027       0.029
public transportation     -0.0261      0.016     -1.668      0.096      -0.057       0.005
housing                    0.0051      0.008      0.607      0.544      -0.011       0.022
green space               -0.0122      0.010     -1.163      0.245      -0.033       0.008
vehicle                   -0.0096      0.024     -0.397      0.691      -0.057       0.038
building                   0.0241      0.007      3.262      0.001       0.010       0.039
utilities                  0.0007      0.008      0.097      0.923      -0.014       0.015
white_rate_15             -0.3671      0.153     -2.400      0.017      -0.667      -0.067
edu_2015                   0.0958      0.022      4.384      0.000       0.053       0.139
Median Gross Rent 2015     0.7024      0.109      6.441      0.000       0.488       0.917
density                   -2.2257      5.136     -0.433      0.665     -12.310       7.859
ownership_rate            -0.0050      0.137     -0.036      0.971      -0.274       0.264
==============================================================================
Omnibus:                      353.500   Durbin-Watson:                   1.867
Prob(Omnibus):                  0.000   Jarque-Bera (JB):             5876.163
Skew:                          -1.787   Prob(JB):                         0.00
Kurtosis:                      16.541   Cond. No.                     4.33e+03
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The condition number is large, 4.33e+03. This might indicate that there are
strong multicollinearity or other numerical problems.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/haoyu/opt/anaconda3/lib/python3.9/site-packages/statsmodels/tsa/tsatools.py:142: FutureWarning: In a future version of pandas all arguments of concat except for the argument &#39;objs&#39; will be keyword-only.
  x = pd.concat(x[::order], 1)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X_train_ols</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>const</th>
      <th>fire prevention</th>
      <th>climate action</th>
      <th>public transportation</th>
      <th>housing</th>
      <th>green space</th>
      <th>vehicle</th>
      <th>building</th>
      <th>utilities</th>
      <th>white_rate_15</th>
      <th>edu_2015</th>
      <th>Median Gross Rent 2015</th>
      <th>density</th>
      <th>ownership_rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>810.0</td>
      <td>810.000000</td>
      <td>810.000000</td>
      <td>810.000000</td>
      <td>810.000000</td>
      <td>810.000000</td>
      <td>810.000000</td>
      <td>810.000000</td>
      <td>810.000000</td>
      <td>810.000000</td>
      <td>810.000000</td>
      <td>810.000000</td>
      <td>810.000000</td>
      <td>810.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.0</td>
      <td>0.636069</td>
      <td>4.247769</td>
      <td>9.260516</td>
      <td>1.393141</td>
      <td>1.176450</td>
      <td>12.001585</td>
      <td>1.588122</td>
      <td>3.967327</td>
      <td>0.550450</td>
      <td>14.081633</td>
      <td>7.388770</td>
      <td>0.004924</td>
      <td>0.464625</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.0</td>
      <td>1.770376</td>
      <td>2.876653</td>
      <td>2.711475</td>
      <td>3.964712</td>
      <td>2.967801</td>
      <td>1.479739</td>
      <td>4.120545</td>
      <td>4.268415</td>
      <td>0.229191</td>
      <td>1.816314</td>
      <td>0.347377</td>
      <td>0.005854</td>
      <td>0.253170</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.0</td>
      <td>0.000000</td>
      <td>-4.918769</td>
      <td>-0.427043</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>5.007887</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>7.902527</td>
      <td>5.708173</td>
      <td>0.001003</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.0</td>
      <td>0.000000</td>
      <td>2.323757</td>
      <td>7.377497</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>11.172963</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.371862</td>
      <td>12.824420</td>
      <td>7.195787</td>
      <td>0.001939</td>
      <td>0.260238</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.0</td>
      <td>0.000000</td>
      <td>4.669098</td>
      <td>9.415667</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>12.186373</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.549011</td>
      <td>14.216537</td>
      <td>7.391513</td>
      <td>0.003313</td>
      <td>0.468498</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.0</td>
      <td>0.000000</td>
      <td>6.409201</td>
      <td>11.099264</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>12.985256</td>
      <td>0.000000</td>
      <td>8.228025</td>
      <td>0.742810</td>
      <td>15.479579</td>
      <td>7.600172</td>
      <td>0.006036</td>
      <td>0.676736</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.0</td>
      <td>9.025959</td>
      <td>11.096165</td>
      <td>17.443850</td>
      <td>17.044617</td>
      <td>14.859451</td>
      <td>20.565433</td>
      <td>16.303362</td>
      <td>13.881840</td>
      <td>1.000000</td>
      <td>17.725968</td>
      <td>8.371011</td>
      <td>0.105516</td>
      <td>0.958333</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y_ols</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    719.000000
mean      -0.083813
std        0.801507
min       -8.167628
25%       -0.430948
50%        0.020213
75%        0.374422
max        1.745021
Name: gen_index, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y_hat</span> <span class="o">=</span> <span class="n">log_reg</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">prediction</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">round</span><span class="p">,</span> <span class="n">y_hat</span><span class="p">))</span>
 
<span class="c1"># comparing original and predicted values of y</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Actual values&#39;</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Predictions :&#39;</span><span class="p">,</span> <span class="n">prediction</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Actual values [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0]
Predictions : [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -26, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pre</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">values</span><span class="p">,</span><span class="n">prediction</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pre</span><span class="p">[</span><span class="s1">&#39;test&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pre</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">pre</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pre</span><span class="p">[</span><span class="s1">&#39;test&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 0    453
-1    131
Name: test, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sf_gen_index</span> <span class="o">=</span> <span class="n">sf_demo_gen_pattern</span><span class="p">[</span><span class="n">sf_demo_gen_pattern</span><span class="o">.</span><span class="n">gentrified</span><span class="o">==</span><span class="s1">&#39;Gentrified&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sf_gen_index</span><span class="p">[</span><span class="s1">&#39;edu_rate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">sf_gen_index</span><span class="p">[</span><span class="s1">&#39;edu_2020&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">sf_gen_index</span><span class="p">[</span><span class="s1">&#39;edu_2015&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/haoyu/opt/anaconda3/lib/python3.9/site-packages/geopandas/geodataframe.py:1351: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  super().__setitem__(key, value)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sf_gen_index</span><span class="p">[</span><span class="s1">&#39;income&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">sf_gen_index</span><span class="p">[</span><span class="s1">&#39;Median HH Income (in 2020 dollars)&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">sf_gen_index</span><span class="p">[</span><span class="s1">&#39;Median HH Income (in 2015 dollars)&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/haoyu/opt/anaconda3/lib/python3.9/site-packages/geopandas/geodataframe.py:1351: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  super().__setitem__(key, value)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sf_gen_index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GEOID</th>
      <th>area</th>
      <th>popu_2015</th>
      <th>edu_2015</th>
      <th>Median HH Income (in 2015 dollars)</th>
      <th>Median Gross Rent 2015</th>
      <th>white_15</th>
      <th>popu_2020</th>
      <th>edu_2020</th>
      <th>Median HH Income (in 2020 dollars)</th>
      <th>Median Gross Rent 2020</th>
      <th>white_20</th>
      <th>gentrified</th>
      <th>white_rate_20</th>
      <th>white_rate_15</th>
      <th>pattern</th>
      <th>color</th>
      <th>geometry</th>
      <th>edu_rate</th>
      <th>index</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>060750452002</td>
      <td>187145.689267</td>
      <td>1550</td>
      <td>15.565567</td>
      <td>66875.0</td>
      <td>1414.80</td>
      <td>802</td>
      <td>1943.0</td>
      <td>16.251908</td>
      <td>130594.68</td>
      <td>2510.0</td>
      <td>1370.0</td>
      <td>Gentrified</td>
      <td>0.705095</td>
      <td>0.517419</td>
      <td>1.0</td>
      <td>Pattern B</td>
      <td>POLYGON ((-13632869.903 4547990.267, -13632749...</td>
      <td>1.044094</td>
      <td>1.952818</td>
    </tr>
    <tr>
      <th>3</th>
      <td>060750479013</td>
      <td>251690.139309</td>
      <td>1392</td>
      <td>14.104061</td>
      <td>61333.0</td>
      <td>1265.76</td>
      <td>908</td>
      <td>2185.0</td>
      <td>13.583117</td>
      <td>140441.04</td>
      <td>2946.0</td>
      <td>956.0</td>
      <td>Gentrified</td>
      <td>0.437529</td>
      <td>0.652299</td>
      <td>1.0</td>
      <td>Pattern B</td>
      <td>POLYGON ((-13637188.876 4548004.773, -13637069...</td>
      <td>0.963064</td>
      <td>2.289812</td>
    </tr>
    <tr>
      <th>6</th>
      <td>060750476003</td>
      <td>209279.793757</td>
      <td>1032</td>
      <td>14.755297</td>
      <td>73848.0</td>
      <td>2363.04</td>
      <td>590</td>
      <td>1447.0</td>
      <td>15.070805</td>
      <td>183891.60</td>
      <td>4000.0</td>
      <td>858.0</td>
      <td>Gentrified</td>
      <td>0.592951</td>
      <td>0.571705</td>
      <td>0.0</td>
      <td>Pattern A</td>
      <td>POLYGON ((-13634192.267 4547914.073, -13634073...</td>
      <td>1.021383</td>
      <td>2.490136</td>
    </tr>
    <tr>
      <th>19</th>
      <td>060750477012</td>
      <td>195058.411359</td>
      <td>1471</td>
      <td>13.194159</td>
      <td>60795.0</td>
      <td>1383.48</td>
      <td>478</td>
      <td>1851.0</td>
      <td>15.084758</td>
      <td>95715.00</td>
      <td>1780.0</td>
      <td>866.0</td>
      <td>Gentrified</td>
      <td>0.467855</td>
      <td>0.324949</td>
      <td>1.0</td>
      <td>Pattern B</td>
      <td>POLYGON ((-13634580.772 4548438.428, -13634461...</td>
      <td>1.143291</td>
      <td>1.574389</td>
    </tr>
    <tr>
      <th>30</th>
      <td>060750476001</td>
      <td>224204.644956</td>
      <td>1661</td>
      <td>14.262887</td>
      <td>66689.0</td>
      <td>1818.72</td>
      <td>889</td>
      <td>1340.0</td>
      <td>15.595883</td>
      <td>98550.00</td>
      <td>2403.0</td>
      <td>701.0</td>
      <td>Gentrified</td>
      <td>0.523134</td>
      <td>0.535220</td>
      <td>0.0</td>
      <td>Pattern A</td>
      <td>POLYGON ((-13634328.299 4548451.667, -13634234...</td>
      <td>1.093459</td>
      <td>1.477755</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2895</th>
      <td>060750119012</td>
      <td>49468.625106</td>
      <td>1534</td>
      <td>15.807799</td>
      <td>55179.0</td>
      <td>1730.16</td>
      <td>913</td>
      <td>364.0</td>
      <td>16.492260</td>
      <td>166418.28</td>
      <td>2835.0</td>
      <td>337.0</td>
      <td>Gentrified</td>
      <td>0.925824</td>
      <td>0.595176</td>
      <td>0.0</td>
      <td>Pattern A</td>
      <td>POLYGON ((-13627142.626 4549853.318, -13627087...</td>
      <td>1.043299</td>
      <td>3.015971</td>
    </tr>
    <tr>
      <th>2902</th>
      <td>060750119022</td>
      <td>75544.750673</td>
      <td>763</td>
      <td>14.375731</td>
      <td>71750.0</td>
      <td>1215.00</td>
      <td>506</td>
      <td>1378.0</td>
      <td>15.959111</td>
      <td>99000.36</td>
      <td>1892.0</td>
      <td>1020.0</td>
      <td>Gentrified</td>
      <td>0.740203</td>
      <td>0.663172</td>
      <td>0.0</td>
      <td>Pattern A</td>
      <td>POLYGON ((-13626809.447 4550044.755, -13626741...</td>
      <td>1.110143</td>
      <td>1.379796</td>
    </tr>
    <tr>
      <th>2907</th>
      <td>060014059021</td>
      <td>320632.620197</td>
      <td>1614</td>
      <td>9.570167</td>
      <td>28203.0</td>
      <td>1013.04</td>
      <td>179</td>
      <td>1559.0</td>
      <td>11.791783</td>
      <td>53925.48</td>
      <td>1551.0</td>
      <td>280.0</td>
      <td>Gentrified</td>
      <td>0.179602</td>
      <td>0.110905</td>
      <td>1.0</td>
      <td>Pattern B</td>
      <td>POLYGON ((-13607903.613 4550322.267, -13607883...</td>
      <td>1.232140</td>
      <td>1.912048</td>
    </tr>
    <tr>
      <th>2914</th>
      <td>060750118001</td>
      <td>90734.196966</td>
      <td>1622</td>
      <td>9.842311</td>
      <td>20478.0</td>
      <td>645.84</td>
      <td>173</td>
      <td>1590.0</td>
      <td>12.220947</td>
      <td>40137.12</td>
      <td>888.0</td>
      <td>197.0</td>
      <td>Gentrified</td>
      <td>0.123899</td>
      <td>0.106658</td>
      <td>1.0</td>
      <td>Pattern B</td>
      <td>POLYGON ((-13626317.637 4550385.096, -13626264...</td>
      <td>1.241675</td>
      <td>1.960012</td>
    </tr>
    <tr>
      <th>2918</th>
      <td>060750112001</td>
      <td>78364.426502</td>
      <td>1378</td>
      <td>14.039708</td>
      <td>64063.0</td>
      <td>1407.24</td>
      <td>716</td>
      <td>1151.0</td>
      <td>15.568773</td>
      <td>111713.04</td>
      <td>1971.0</td>
      <td>685.0</td>
      <td>Gentrified</td>
      <td>0.595135</td>
      <td>0.519594</td>
      <td>0.0</td>
      <td>Pattern A</td>
      <td>POLYGON ((-13627136.281 4550381.151, -13627117...</td>
      <td>1.108910</td>
      <td>1.743800</td>
    </tr>
  </tbody>
</table>
<p>427 rows × 20 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sf_invest</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GEOID</th>
      <th>TotalPopu</th>
      <th>area</th>
      <th>year</th>
      <th>research and planning</th>
      <th>fire prevention</th>
      <th>climate action</th>
      <th>public transportation</th>
      <th>housing</th>
      <th>green space</th>
      <th>others</th>
      <th>vehicle</th>
      <th>building</th>
      <th>utilities</th>
      <th>agriculture</th>
      <th>clean air</th>
      <th>Total Invest</th>
      <th>Invest per land</th>
      <th>Invest per land per popu</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>060750452002</td>
      <td>1838</td>
      <td>1.871457e+05</td>
      <td>2015</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>9003.260968</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>24364.574128</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>33367.835096</td>
      <td>178298.710627</td>
      <td>0.097007</td>
      <td>POLYGON ((-13632869.903 4547990.267, -13632749...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>060750164001</td>
      <td>2053</td>
      <td>3.005107e+05</td>
      <td>2015</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>491.241908</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>27214.619523</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>27705.861431</td>
      <td>92195.917868</td>
      <td>0.044908</td>
      <td>POLYGON ((-13629569.614 4547980.690, -13629386...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>060750477021</td>
      <td>1124</td>
      <td>1.884071e+05</td>
      <td>2015</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>105.240863</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1644.952632</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1750.193494</td>
      <td>9289.425139</td>
      <td>0.008265</td>
      <td>POLYGON ((-13635264.942 4547852.104, -13635146...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>060750479013</td>
      <td>2092</td>
      <td>2.516901e+05</td>
      <td>2015</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>235.339390</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>27731.604502</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>27966.943892</td>
      <td>111116.565665</td>
      <td>0.053115</td>
      <td>POLYGON ((-13637188.876 4548004.773, -13637069...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>060750451002</td>
      <td>1354</td>
      <td>1.759849e+05</td>
      <td>2015</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>6239.788622</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>17948.657981</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>24188.446603</td>
      <td>137446.186732</td>
      <td>0.101511</td>
      <td>POLYGON ((-13632512.233 4548010.970, -13632392...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>17515</th>
      <td>060014058002</td>
      <td>1268</td>
      <td>1.931100e+05</td>
      <td>2020</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>19.148698</td>
      <td>1166.024856</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>12210.840761</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>13396.014316</td>
      <td>69369.866849</td>
      <td>0.054708</td>
      <td>POLYGON ((-13607124.710 4550198.865, -13607109...</td>
    </tr>
    <tr>
      <th>17516</th>
      <td>060014033001</td>
      <td>1887</td>
      <td>1.340623e+06</td>
      <td>2020</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>4470.664870</td>
      <td>146935.292499</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>15488.288779</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>166894.246147</td>
      <td>124490.069493</td>
      <td>0.065972</td>
      <td>POLYGON ((-13611454.927 4550088.565, -13611443...</td>
    </tr>
    <tr>
      <th>17517</th>
      <td>060750113002</td>
      <td>1234</td>
      <td>8.266409e+04</td>
      <td>2020</td>
      <td>0.0</td>
      <td>100.577850</td>
      <td>450.886421</td>
      <td>6800.941166</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>9990.600568</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>17343.006005</td>
      <td>209800.975747</td>
      <td>0.170017</td>
      <td>POLYGON ((-13626545.286 4550476.240, -13626525...</td>
    </tr>
    <tr>
      <th>17518</th>
      <td>060750112001</td>
      <td>1192</td>
      <td>7.836443e+04</td>
      <td>2020</td>
      <td>0.0</td>
      <td>85.756580</td>
      <td>385.032271</td>
      <td>7145.750593</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>9650.563919</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>17267.103364</td>
      <td>220343.644869</td>
      <td>0.184852</td>
      <td>POLYGON ((-13627136.281 4550381.151, -13627117...</td>
    </tr>
    <tr>
      <th>17519</th>
      <td>060750110002</td>
      <td>2131</td>
      <td>1.419525e+05</td>
      <td>2020</td>
      <td>0.0</td>
      <td>241.083345</td>
      <td>1083.950329</td>
      <td>22245.730752</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>17252.811839</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>40823.576265</td>
      <td>287586.101302</td>
      <td>0.134954</td>
      <td>POLYGON ((-13628079.380 4550482.580, -13627908...</td>
    </tr>
  </tbody>
</table>
<p>17520 rows × 20 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>

<span class="n">X_train_ols</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">add_constant</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">sm</span><span class="o">.</span><span class="n">Logit</span><span class="p">(</span><span class="n">y_train</span><span class="p">,</span><span class="n">X_train_ols</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">summary</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Optimization terminated successfully.
         Current function value: 0.406133
         Iterations 7
                           Logit Regression Results                           
==============================================================================
Dep. Variable:             gentrified   No. Observations:                  762
Model:                          Logit   Df Residuals:                      748
Method:                           MLE   Df Model:                           13
Date:                Sun, 22 May 2022   Pseudo R-squ.:                  0.1719
Time:                        16:27:09   Log-Likelihood:                -309.47
converged:                       True   LL-Null:                       -373.70
Covariance Type:            nonrobust   LLR p-value:                 4.248e-21
==========================================================================================
                             coef    std err          z      P&gt;|z|      [0.025      0.975]
------------------------------------------------------------------------------------------
const                     15.0275      2.713      5.539      0.000       9.710      20.345
fire prevention           -0.2120      0.085     -2.508      0.012      -0.378      -0.046
climate action            -0.0078      0.056     -0.138      0.891      -0.118       0.103
public transportation      0.1414      0.058      2.427      0.015       0.027       0.256
housing                   -0.0002      0.029     -0.008      0.994      -0.056       0.056
green space               -0.0377      0.036     -1.032      0.302      -0.109       0.034
vehicle                   -0.1161      0.094     -1.236      0.216      -0.300       0.068
building                  -0.0449      0.025     -1.812      0.070      -0.093       0.004
utilities                 -0.0058      0.028     -0.208      0.835      -0.061       0.049
white_rate_15              0.4331      0.583      0.743      0.457      -0.709       1.576
edu_2015                  -0.2383      0.076     -3.127      0.002      -0.388      -0.089
Median Gross Rent 2015    -1.6627      0.385     -4.324      0.000      -2.416      -0.909
density                  -27.1522     26.046     -1.042      0.297     -78.202      23.898
ownership_rate            -1.7835      0.524     -3.402      0.001      -2.811      -0.756
==========================================================================================
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/haoyu/opt/anaconda3/lib/python3.9/site-packages/statsmodels/tsa/tsatools.py:142: FutureWarning: In a future version of pandas all arguments of concat except for the argument &#39;objs&#39; will be keyword-only.
  x = pd.concat(x[::order], 1)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="simpletable">
<caption>Logit Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>      <td>gentrified</td>    <th>  No. Observations:  </th>  <td>   762</td>  
</tr>
<tr>
  <th>Model:</th>                 <td>Logit</td>      <th>  Df Residuals:      </th>  <td>   748</td>  
</tr>
<tr>
  <th>Method:</th>                 <td>MLE</td>       <th>  Df Model:          </th>  <td>    13</td>  
</tr>
<tr>
  <th>Date:</th>            <td>Sun, 22 May 2022</td> <th>  Pseudo R-squ.:     </th>  <td>0.1719</td>  
</tr>
<tr>
  <th>Time:</th>                <td>16:27:13</td>     <th>  Log-Likelihood:    </th> <td> -309.47</td> 
</tr>
<tr>
  <th>converged:</th>             <td>True</td>       <th>  LL-Null:           </th> <td> -373.70</td> 
</tr>
<tr>
  <th>Covariance Type:</th>     <td>nonrobust</td>    <th>  LLR p-value:       </th> <td>4.248e-21</td>
</tr>
</table>
<table class="simpletable">
<tr>
             <td></td>               <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P>|z|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>const</th>                  <td>   15.0275</td> <td>    2.713</td> <td>    5.539</td> <td> 0.000</td> <td>    9.710</td> <td>   20.345</td>
</tr>
<tr>
  <th>fire prevention</th>        <td>   -0.2120</td> <td>    0.085</td> <td>   -2.508</td> <td> 0.012</td> <td>   -0.378</td> <td>   -0.046</td>
</tr>
<tr>
  <th>climate action</th>         <td>   -0.0078</td> <td>    0.056</td> <td>   -0.138</td> <td> 0.891</td> <td>   -0.118</td> <td>    0.103</td>
</tr>
<tr>
  <th>public transportation</th>  <td>    0.1414</td> <td>    0.058</td> <td>    2.427</td> <td> 0.015</td> <td>    0.027</td> <td>    0.256</td>
</tr>
<tr>
  <th>housing</th>                <td>   -0.0002</td> <td>    0.029</td> <td>   -0.008</td> <td> 0.994</td> <td>   -0.056</td> <td>    0.056</td>
</tr>
<tr>
  <th>green space</th>            <td>   -0.0377</td> <td>    0.036</td> <td>   -1.032</td> <td> 0.302</td> <td>   -0.109</td> <td>    0.034</td>
</tr>
<tr>
  <th>vehicle</th>                <td>   -0.1161</td> <td>    0.094</td> <td>   -1.236</td> <td> 0.216</td> <td>   -0.300</td> <td>    0.068</td>
</tr>
<tr>
  <th>building</th>               <td>   -0.0449</td> <td>    0.025</td> <td>   -1.812</td> <td> 0.070</td> <td>   -0.093</td> <td>    0.004</td>
</tr>
<tr>
  <th>utilities</th>              <td>   -0.0058</td> <td>    0.028</td> <td>   -0.208</td> <td> 0.835</td> <td>   -0.061</td> <td>    0.049</td>
</tr>
<tr>
  <th>white_rate_15</th>          <td>    0.4331</td> <td>    0.583</td> <td>    0.743</td> <td> 0.457</td> <td>   -0.709</td> <td>    1.576</td>
</tr>
<tr>
  <th>edu_2015</th>               <td>   -0.2383</td> <td>    0.076</td> <td>   -3.127</td> <td> 0.002</td> <td>   -0.388</td> <td>   -0.089</td>
</tr>
<tr>
  <th>Median Gross Rent 2015</th> <td>   -1.6627</td> <td>    0.385</td> <td>   -4.324</td> <td> 0.000</td> <td>   -2.416</td> <td>   -0.909</td>
</tr>
<tr>
  <th>density</th>                <td>  -27.1522</td> <td>   26.046</td> <td>   -1.042</td> <td> 0.297</td> <td>  -78.202</td> <td>   23.898</td>
</tr>
<tr>
  <th>ownership_rate</th>         <td>   -1.7835</td> <td>    0.524</td> <td>   -3.402</td> <td> 0.001</td> <td>   -2.811</td> <td>   -0.756</td>
</tr>
</table></div></div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="04-gentrified.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">PART 4: Gentrified Identification</p>
        </div>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Haoyu Yue<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>